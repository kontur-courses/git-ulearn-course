<?xml version="1.0"?>
<slide id="3fff1ddf-35e5-4d45-a71c-135dda93af4c" title="Интерактивный rebase" xmlns="https://ulearn.me/schema/v2">
  <youtube>dYEutOH_dXA</youtube>
  <markdown>
    Обычный rebase по очереди переносит изменения из коммитов на новое место.
    Интерактивный вариант rebase позволяет выполнить с каждым коммитом какие-то
    дополнительные действия: изменить сообщение, объединить с предыдущим,
    не применять или даже поменять порядок следования коммитов.

    Например, объединение нескольких коммитов с помощью действий `squash` или `fixup`,
    позволяет сделать из нескольких сумбурных коммитов один коммит со всеми необходимыми изменениями,
    другими словами — убрать «метания» из истории.
  </markdown>
  <galleryImages>
    <image>img\rebase-i1.png</image>
  </galleryImages>
  <html><br/></html>

  <markdown>
    ### Пример команды

    `git rebase -i main` — начать rebase в интерактивном режиме.
  </markdown>
  <markdown>
    ### Сценарий интерактивного rebase

    После запуска rebase в интерактивном режиме открывается текстовый редактор с базовым сценарием.
    В сценарии на рисунке к каждому из трех коммитов применяется действие `pick`, означающее просто «взять».
    Таким образом базовый сценарий соответствует обычному rebase.
  </markdown>
  <galleryImages>
    <image>img\rebase-i2.png</image>
  </galleryImages>
  <html><br/></html>
  <markdown>
    В том же тексте в комментарих под сценарием (строчки с комментариями начинаются с символа `#`) описаны все возможные
    альтернативные действия, которые можно использовать в сценарии.

    **Некоторые действия, которые можно выполнять в сценарии:**

    - `p` или `pick` → взять коммит без изменений
    - `r` или `reword` → взять коммит, предложить ввести новое сообщение
    - `s` или `squash` → объединить коммит с предыдущим
    - `f` или `fixup` → как squash, но отбросить сообщение коммита
    - `d` или `drop` → удалить коммит
    - `e` или `edit` → остановиться, чтобы дополнить коммит

    Для применения действия достаточно заменить в сценарии около нужного коммита
    действие `pick` на другое, например, `fixup` или на сокращенную форму `f`.

    Причем какие-то коммиты в сценарии можно пропускать, что эквивалентно `drop`,
    или вообще указывать коммиты в другом порядке.

    Вот как выглядит измененный сценарий, где при применении первого коммита будет запрошено новое сообщение для него,
    а изменения из второго и третьего коммита будут объединены с первым:
  </markdown>
  <galleryImages>
    <image>img\rebase-i3.png</image>
  </galleryImages>
  <html><br/></html>
</slide>
