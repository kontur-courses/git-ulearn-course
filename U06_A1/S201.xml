<?xml version="1.0"?>
<slide id="f4930a6d-b93f-49ff-a163-9b0e064ba410" title="Задание A1-1. Merge conflict" xmlns="https://ulearn.me/schema/v2">

<markdown>
# Постановка задачи

Когда разработка новой функциональности в отдельной ветке завершается, эту функциональность можно и нужно интегрировать в основную версию. И тут помогает операция слияния.

Сейчас надо влить одну из веток с новой функциональностью. И заодно научиться тому, как разрешать конфликты.

# Сохранение прогресса

Сейчас подходящий момент, чтобы сохранить текущий прогресс по выполнению заданий. Для этого достаточно сделать копию папки `ulearn-git-guide`.

Рабочий каталог и репозиторий находятся внутри этой скопированной папки, так что в любой момент можно будет вернуться к сохраненному состоянию. Для этого надо либо переключиться на копию папки, заменить все содержимое папки `ulearn-git-guide` на содержимое папки с сохраненным состоянием.

# Шаг 1

Убедись, что `HEAD` находится на `main`, а затем начни вливать `quotation-feature` в `main`.

Так как ты знаешь весь расклад, то можешь предположить, что при слиянии веток `quotation-feature` и `main` произойдет конфликт, потому что в файл `s2.md` вносились правки в обеих ветках. Разрешать конфликт будешь на следующем шаге, а пока просто начти слияние.

&gt; Как начать вливать ветку
[в Git Bash?](https://www.google.com/search?q=%D0%9A%D0%B0%D0%BA+%D0%BD%D0%B0%D1%87%D0%B0%D1%82%D1%8C+%D0%B2%D0%BB%D0%B8%D0%B2%D0%B0%D1%82%D1%8C+%D0%B2%D0%B5%D1%82%D0%BA%D1%83+%D0%B2+Git+Bash)
| [в Git Graph в VS Code?](https://www.google.com/search?q=%D0%9A%D0%B0%D0%BA+%D0%BD%D0%B0%D1%87%D0%B0%D1%82%D1%8C+%D0%B2%D0%BB%D0%B8%D0%B2%D0%B0%D1%82%D1%8C+%D0%B2%D0%B5%D1%82%D0%BA%D1%83+%D0%B2+Git+Graph+%D0%B2+VS+Code)

# Шаг 2

Конфликты удобно разрешать с использованием графического интерфейса. И VS Code для этого прекрасно подходит.

Открой в VS Code в боковом меню пункт Source Control. В списке `Merge Changes` будет файл — `s2.md`. Выбери его.

Часто конфликты разрешаются выбором варианта одной из веток, но это не тот случай. Придется объединять изменения аккуратно вручную.

Сначала выбери `Accept Both Changes` — теперь текст обоих изменений станет доступен для редактирования.

Затем напиши правильную версию раздела S2, объединяющую изменения из обеих веток. В ней должно быть 5 утверждений про коммиты, как в ветке `main`, и все утверждения должны начинаться с символа `>`, а не с последовательности символов `####`, как в ветке `quotation-feature`.

Когда закончишь редактирование, сохрани изменения в файле `s2.md`. А затем добавь эту новую бесконфликтную версию файла `s2.md` в Commit index.

# Шаг 3

Раз были конфликты, то слияние происходит в три отдельных шага. И последний шаг — создание объединяющего коммита.

Для надежности сначала выполни в терминале команду `git status`. В выводе команды должно быть написано, что все конфликты разрешены.

*Выглядеть должно так:*
</markdown>
<galleryImages>
    <image>images\a1-1-merging.png</image>
</galleryImages>

<markdown>
И, наконец, создай объединяющий коммит одним из способов.

&gt; При создании объединяющего должен открыться текстовый редактор для ввода сообщения коммита. Там уже будет автоматически сгенерированный текст сообщения к коммиту. Текст хороший, его можно не менять. Так что просто закрой в редакторе открывшийся файл `COMMIT_EDITMSG`, после чего коммит будет создан.

&gt; Как завершить слияние после разрешения конфликтов
[в Git Bash?](https://www.google.com/search?q=%D0%9A%D0%B0%D0%BA+%D0%B7%D0%B0%D0%B2%D0%B5%D1%80%D1%88%D0%B8%D1%82%D1%8C+%D1%81%D0%BB%D0%B8%D1%8F%D0%BD%D0%B8%D0%B5+%D0%BF%D0%BE%D1%81%D0%BB%D0%B5+%D1%80%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D1%8F+%D0%BA%D0%BE%D0%BD%D1%84%D0%BB%D0%B8%D0%BA%D1%82%D0%BE%D0%B2+%D0%B2+Git+Bash)
| [в VS Code?](https://www.google.com/search?q=%D0%9A%D0%B0%D0%BA+%D0%B7%D0%B0%D0%B2%D0%B5%D1%80%D1%88%D0%B8%D1%82%D1%8C+%D1%81%D0%BB%D0%B8%D1%8F%D0%BD%D0%B8%D0%B5+%D0%BF%D0%BE%D1%81%D0%BB%D0%B5+%D1%80%D0%B0%D0%B7%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D1%8F+%D0%BA%D0%BE%D0%BD%D1%84%D0%BB%D0%B8%D0%BA%D1%82%D0%BE%D0%B2+%D0%B2+VS+Code)

# Шаг 4

Убедись, что в результате твоих действий был создан новый коммит, объединяющий две ветви изменений. Причем `HEAD` сдвинулся на этот новый коммит, а ветка `main` сдвинулась вслед за `HEAD`.

# Результат задания

*Теперь история коммитов должна выглядеть так:*
</markdown>
<galleryImages>
    <image>images\a1-1-finish.png</image>
</galleryImages>

</slide>
