<?xml version="1.0"?>
<slide id="dd1ea9de-12f4-4d25-b54a-30e5e4d50e59" title="Задание S2-2. Commit index" xmlns="https://ulearn.me/schema/v2">

<markdown>
# Введение

Давай поэкспериментируем с Commit index, а также добавим еще файлов в Гайд!

# Шаг 1

Для начала файл `s2.md` со следующим содержимым:
```
# S2. Коммиты

#### История версий — дерево коммитов

#### Индекс коммита используется для постепенной сборки коммита
```

Конечно же, убедись, что Git обнаружил файл `s2.md` в Working directory.

# Шаг 2

Добавь файл `s2.md` в Commit index и убедись, что он туда попал.

# Шаг 3

Теперь интереснее! Замени содержимое `s2.md` на следующее:
```
# S2. Коммиты

#### История версий — дерево коммитов

#### Индекс коммита используется для постепенной сборки коммита

- `git add .` — добавить все измененные файлы в индекс
- `git add -p &lt;filename&gt;` — выбрать изменения для добавления в индекс
- `git commit -m &lt;msg&gt;` — сохранить содержимое индекса в репозиторий в виде коммита
- `git commit -am &lt;msg&gt;` — добавить изменения в уже известных файлах в индекс, затем сохранить содержимое индекса в репозиторий в виде коммита
- `git status -sb` — вывести состояние каталога и индекса кратко с указанием текущей ветки
- `git restore .` — отменить изменения каталога в соответствии с индексом
- `git restore -S .` — отменить изменения индекса в соответствии с коммитом (отмена git add .)
- `git rm &lt;filename&gt;` — удалить файл из каталога и индекса, чтобы перестать хранить его историю в репозитории
- `git show &lt;commit&gt;` — показать содержимое коммита
- `git diff &lt;from_commit&gt; [&lt;to_commit&gt;]` — вывести разницу между двумя коммитами
- `git diff --name-status &lt;from_commit&gt; [&lt;to_commit&gt;]` — список измененных файлов
- `git difftool &lt;from_commit&gt; [&lt;to_commit&gt;]` — вывести разницу с помощью difftool из настроек
```

# Шаг 4

Как думаешь, что сейчас содержат Working directory и Commit index? Какая разница между ними и выполненным в предыдущем задании коммитом?

Чтобы проверить свои догадки выполни в терминале команду `git status`.

Убедись, что `s2.md` находится как в Working Directory (секция `Changes not staged for commit`), так и в Commit Index (секция `Changes to be commited`).

Далее открой Source Control в VS Code и убедись, что `s2.md` находится как в верхнем списке Staged Changes, так и в нижнем списке Changes, причем содержимое у файлов разное и при выборе `s2.md` в нижнем списке показываются отличия от Commit Index, а не предыдущего от коммита.

&gt; Чтобы открыть Source Control в VS Code найди пункт с таким названием в боковом меню слева, либо воспользуйся сочетанием клавиш `Ctrl + Shift + G`

# Шаг 5

Выполни коммит с сообщением `Add s2.md header`. Обрати внимание, что нужные изменения уже есть в Commit index. А изменения из Working directory будут добавлены отдельным коммитом.

# Шаг 6

В истории коммитов в  Git Graph найди только что созданный коммит и убедись, что в него попали только изменения из Commit index.

&gt; Открыть Git Graph можно кнопкой `Git Graph` в нижней панели VS Code

# Шаг 7

Закоммить оставшиеся в Working directory изменения с сообщением `Change s2.md`. Здесь и далее под фразой «закоммить изменения» будет подразумеваться добавление изменений в Commit index и само выполнение коммита.

# Результат

*Теперь история коммитов должна выглядеть так:*
</markdown>
<galleryImages>
    <image>images\s2-2-finish.png</image>
</galleryImages>

</slide>
