<?xml version="1.0"?>
<slide id="4b0404f6-68fb-432f-9404-222bedc992c3" title="Задание A2-2. Revert" xmlns="https://ulearn.me/schema/v2">

<markdown>
# Введение

Команда revert отмены коммитов пригождается, когда в коммите есть ошибка, но по каким-то причинам нельзя этот коммит пересобрать с помощью amend commit или soft reset. Давай искусственно создадим такую ситуацию и героически ее преодолеем с помощью revert. И, заодно, добавим еще один раздел в Гайд!

# Шаг 1

Первым делом потребуется ошибка в ветке `main`!

Замени следующее корректное утверждение из файла `a1.md`:
```
&gt; Идентичные изменения в разных ветках не приводят к конфликтам
```

на такое ошибочное утверждение:
```
&gt; Идентичные изменения в разных ветках ПРИВОДЯТ к конфликтам
```

Закоммить это изменение с сообщением `Hotfix. Change a1.md`.

# Шаг 2

Теперь корректное добавление нового раздела Гайда. Тут все знакомо, так что далее максимально краткие инструкции.

Создай ветку `undoing-feature` и переключись на нее.

Создай файл `a2.md` со следующим содержимым: 
```
# A2. Пересоздание коммитов

&gt; Нельзя изменить коммит — можно только пересоздать

- `git commit --amend` — заменить последний коммит ветки на коммит с дополнительными изменениями и задать новое сообщение к коммиту
- `git commit --amend --no-edit` — заменить последний коммит ветки на коммит с дополнительными изменениями, но с тем же сообщением
- `git reset --hard &lt;commit&gt;` — переместить текущую ветку на `&lt;commit&gt;`, задать индекс и каталог по целевому коммиту `&lt;commit&gt;`
- `git reset &lt;commit&gt;` = `git reset --mixed &lt;commit&gt;` — переместить текущую ветку на `&lt;commit&gt;`, переместить текущую версию каталога, задать индекс по целевому коммиту `&lt;commit&gt;`
- `git reset --soft &lt;commit&gt;` — переместить текущую ветку на `&lt;commit&gt;`, переместить текущие версии каталога и индекса
- `git reset --soft HEAD^1` — отменить последний коммит
- `git revert &lt;commit&gt;` — создать коммит, отменяющий изменения из коммита
- `git revert &lt;commit&gt; -m &lt;parent_number&gt;` — создать коммит, отменяющий изменения одной из объединенных коммитом слияния веток, причем обычно 1 — основная ветка до слияния, 2 — ветка, которая была влита.
```

Закоммить изменения с сообщением `Add a2.md`.

# Шаг 3

Совершенно неожиданно стало очевидно, что `Идентичные изменения в разных ветках ПРИВОДЯТ к конфликтам` — это некорректное утверждение и надо его исправить!

Переключись на ветку `main`.

Откати коммит `Hotfix. Change a1.md` с помощью revert. При этом будет автоматически сгенерировано сообщение к коммиту. Это сообщение подходит.

&gt; Откатить коммит с помощью revert в терминале можно командой `git revert &lt;commit&gt;`

&gt; Чтобы откатить коммит в графическом интерфейсе, надо выделить коммит, открыть контекстное меню, найти команду revert и выполнить ее.

# Шаг 4

В ветке `main` все корректно, а работа на новым разделом Гайда в ветке `undoing-feature` завершена. Можно объединить изменения и отметить новую версию тегом!

Влей ветку `undoing-feature` в ветку `main`.

Отметь коммит слияния легковесным тегом `v0.3`.

# Результат

*Теперь история коммитов должна выглядеть так:*
</markdown>
<galleryImages>
    <image>images\a2-2-finish.png</image>
</galleryImages>

</slide>
